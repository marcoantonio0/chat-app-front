<div class="container-login">
    <div class="div1">

    </div>
    <div class="div2">
        <div class="login-wrapper">
            <h1>Criar uma conta</h1>
            <div class="login-box">
                <div class="errorBox" *ngIf="error">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    {{ error }}
                </div>
                <form [formGroup]="registerGroup" (ngSubmit)="save()" >
                    <div class="login-control">
                        <label for="">Nome de usuário</label>
                        <input type="text" formControlName="username">
                        <small class="exemple" *ngIf="registerGroup.controls['username'].invalid && registerGroup.controls['username'].value.length <= 0">
                            Ex.: fulano2021, xxfulano
                        </small>
                        <small class="error" *ngIf="registerGroup.controls['username'].invalid && (registerGroup.controls['username'].dirty && registerGroup.controls['username'].touched)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            {{ getError(registerGroup.controls['username']) }}
                        </small>
                    </div>
                    <div class="login-control">
                        <label for="">E-mail</label>
                        <input type="email" formControlName="email">
                        <small class="error" *ngIf="registerGroup.controls['email'].invalid && (registerGroup.controls['email'].dirty && registerGroup.controls['email'].touched)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            {{ getError(registerGroup.controls['email']) }}
                        </small>
                    </div>
                    <div class="login-control">
                        <label for="">Seu nome</label>
                        <input type="text" formControlName="name">
                        <small class="error" *ngIf="registerGroup.controls['name'].invalid && (registerGroup.controls['name'].dirty && registerGroup.controls['name'].touched)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            {{ getError(registerGroup.controls['name']) }}
                        </small>
                    </div>
                    <div class="login-control">
                        <label for="">Senha</label>
                        <input type="password" formControlName="password">
                        <small class="error" *ngIf="registerGroup.controls['password'].invalid && (registerGroup.controls['password'].dirty && registerGroup.controls['password'].touched)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            {{ getError(registerGroup.controls['password']) }}
                        </small>
                    </div>
                    <label for="" style="margin-bottom: .65rem; display: block;">Data de nascimento</label>
                    <div class="login-control-group">
                        <div class="login-control">
                            <select name="day" [formControl]="day">
                                <option value="" disabled selected hidden>Dia</option>
                                <option  *ngFor="let item of [].constructor(31); let i = index" [value]="i+1">{{ i+1 }}</option>
                            </select>
                        </div>
                        <div class="login-control">
                            <select name="month" [formControl]="month">
                                <option value="" disabled selected hidden>Mês</option>
                                <option value="1">Janeiro</option>
                                <option value="2">Fevereiro</option>
                                <option value="3">Março</option>
                                <option value="4">Abril</option>
                                <option value="5">Maio</option>
                                <option value="6">Junho</option>
                                <option value="7">Julho</option>
                                <option value="8">Agosto</option>
                                <option value="9">Setembro</option>
                                <option value="10">Outubro</option>
                                <option value="11">Novembro</option>
                                <option value="12">Dezembro</option>
                            </select>
                        </div>
                        <div class="login-control">
                            <select name="year" [formControl]="year">
                                <option value="" disabled selected hidden>Ano</option>
                                <option *ngFor="let year of years">{{ year }}</option>
                            </select>
                        </div>
                    </div>
                    <small class="error" *ngIf="getDateError()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        {{ getDateError() }}
                    </small>
                    <button type="submit" class="btn" [disabled]="isLoading">
                        {{ isLoading ? '':'Continuar' }}
                        <img src="../../../assets/Rolling-1s-200px.svg" alt="Loading" width="56px" height="56px" *ngIf="isLoading">
                    </button>
                </form>
            </div>
            <span>Já possui uma conta? <a [routerLink]="['/login']">Entre agora</a></span>
        </div>
    </div>
</div>